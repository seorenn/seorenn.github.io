<!DOCTYPE html>
<html lang="kr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SwiftUI 팁 모음 - Seorenn Static Pages</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Heeseung Seo (Seorenn)">
<meta name="description" content="SwiftUI Tips">
<meta name="keywords" content="swift, swiftui, tips, preview">
<meta property="og:title" content="SwiftUI 팁 모음" />
<meta property="og:description" content="SwiftUI Tips" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://seorenn.github.io/img/seorenn-logo.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="SwiftUI 팁 모음" />
<meta name="twitter:description" content="SwiftUI Tips" />
<meta name="twitter:image" content="https://seorenn.github.io/img/seorenn-logo.png" />
<meta name="twitter:site" content="@seorenn" />
<meta name="twitter:creator" content="@seorenn" />
<link rel="stylesheet" type="text/css" href="/static/style.css"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<link rel="canonical" href="https://seorenn.github.io/swiftui-tips.html"/>
<link property="og:url" href="https://seorenn.github.io/swiftui-tips.html"/>
<meta name="google-site-verification" content="YqTFZuthbvGIlDE1dhxiTjZ3m-GfyNs_rsHaOlPKpug" />
<meta name="naver-site-verification" content="ebf6a89968fd9f447c1a77d83e2c4aa9bdbb0345"/>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44534026-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-44534026-1');
</script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">SwiftUI 팁 모음</h1>
<h2><a href="/">Seorenn Static Pages</a></h2></header>
<div id="outline-container-org2b1e12e" class="outline-2">
<h2 id="org2b1e12e">풀스크린 뷰 만들기(iOS)</h2>
<div class="outline-text-2" id="text-org2b1e12e">
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">ContentView</span>: View {
    <span style="color: #51afef;">var</span> body: <span style="color: #51afef;">some</span> View {
        <span style="color: #c678dd;">Text</span>(<span style="color: #98be65;">"Fullscreen Text View"</span>)
            .<span style="color: #c678dd;">edgesIgnoringSafeArea</span>(.<span style="color: #c678dd;">all</span>)
    }
}
</pre>
</div>
<p>
<code>edgesIgnoringSafeArea</code> 속성으로 안전 영역을 몽땅 덮어버리는 그게 바로 풀스크린
뷰입니다.
</p>
</div>
</div>
<div id="outline-container-orgfb9d220" class="outline-2">
<h2 id="orgfb9d220">기존 컴포넌트 붙이기</h2>
<div class="outline-text-2" id="text-orgfb9d220">
<p>
SwiftUI가 도입되기 전에 사용하던 컴포넌트를 SwiftUI 뷰에 붙이는 방법입니다.
아래는 MKMapView를 SwiftUI 형태로 감싸는 예제입니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">MapView</span>: UIViewRepresentable {
    <span style="color: #51afef;">var</span> coordinate: CLLocationCoordinate2D

    <span style="color: #51afef;">func</span> <span style="color: #c678dd;">makeUIView</span>(context: <span style="color: #c678dd;">Context</span>) -&gt; MKMapView {
        <span style="color: #c678dd;">MKMapView</span>(frame: .<span style="color: #c678dd;">zero</span>)
    }

    <span style="color: #51afef;">func</span> <span style="color: #c678dd;">updateUIView</span>(_ view: MKMapView, context: <span style="color: #c678dd;">Context</span>) {
        <span style="color: #51afef;">let</span> span = <span style="color: #c678dd;">MKCoordinateSpan</span>(latitudeDelta: <span style="color: #da8548; font-weight: bold;">0.02</span>, longitudeDelta: <span style="color: #da8548; font-weight: bold;">0.02</span>)
        <span style="color: #51afef;">let</span> region = <span style="color: #c678dd;">MKCoordinateRegion</span>(center: coordinate, span: span)
        view.<span style="color: #c678dd;">setRegion</span>(region, animated: <span style="color: #a9a1e1;">true</span>)
    }
}
</pre>
</div>
<p>
이런 식으로 코딩해 놓으면 SwiftUI 코드들과 조화를 이룰 수 있습니다.
</p>
</div>
</div>
<div id="outline-container-orgac1761b" class="outline-2">
<h2 id="orgac1761b">다크 테마 미리보기</h2>
<div class="outline-text-2" id="text-orgac1761b">
<p>
어두운 색상(dark color scheme) 기준으로 미리보기를 하고 싶다면 아래처럼 할 수 있습니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        Group {
            <span style="color: #c678dd;">SampleView</span>()
                .<span style="color: #c678dd;">environment</span>(\.<span style="color: #dcaeea;">colorScheme</span>, .<span style="color: #dcaeea;">dark</span>)
        }
    }
}
</pre>
</div>
<p>
다만 이렇게 하면 해당 뷰만 다크모드로 표시되기 때문에 조화롭지는 않을지도 모릅니다.
</p>
</div>
</div>
<div id="outline-container-org8a14a90" class="outline-2">
<h2 id="org8a14a90">미리보기(Preview) 크기 조절하기</h2>
<div class="outline-text-2" id="text-org8a14a90">
<p>
Xcode 에서 SwiftUI 미리보기 창에 표시되는 크기를 특정 사이즈로 고정하고 싶다면
SwiftUI View 파일을 생성할 때 만들어지는 보일러플레이트 코드의 Previews 부분을
아래처럼 수정할 수 있습니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        <span style="color: #c678dd;">SampleView</span>()
            .<span style="color: #c678dd;">previewLayout</span>(.<span style="color: #c678dd;">fixed</span>(width: <span style="color: #da8548; font-weight: bold;">500</span>, height: <span style="color: #da8548; font-weight: bold;">300</span>))
    }
}
</pre>
</div>
<p>
변경된 부분은 <code>.previewLayout</code> 코드가 추가되었다는 점입니다.
이렇게 하면 미리보기가 500x300 크기로 고정됩니다.
</p>
</div>
</div>
<div id="outline-container-orgd746c78" class="outline-2">
<h2 id="orgd746c78">멀티 미리보기(preview)</h2>
<div class="outline-text-2" id="text-orgd746c78">
<p>
프리뷰 코드를 조금 고치면 현재 코딩 중인 뷰를 다양하게 살펴볼 수 있습니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        Group {
            <span style="color: #c678dd;">SampleView</span>(data: someData[<span style="color: #da8548; font-weight: bold;">0</span>])
                .<span style="color: #c678dd;">previewLayout</span>(.<span style="color: #c678dd;">fixed</span>(width: <span style="color: #da8548; font-weight: bold;">300</span>, height: <span style="color: #da8548; font-weight: bold;">100</span>))
            <span style="color: #c678dd;">SampleView</span>(data: someData[<span style="color: #da8548; font-weight: bold;">1</span>])
                .<span style="color: #c678dd;">previewLayout</span>(.<span style="color: #c678dd;">fixed</span>(width: <span style="color: #da8548; font-weight: bold;">300</span>, height: <span style="color: #da8548; font-weight: bold;">100</span>))
        }
    }
}
</pre>
</div>
<p>
이런 식으로 그룹으로 묶으면 여러 뷰를 동시에 미리보기 할 수 있습니다.
</p>

<p>
만약 위 처럼 이런 조각뷰의 사이즈가 동일하다면 아래 처럼 묶을 수도 있습니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        Group {
            <span style="color: #c678dd;">SampleView</span>(data: someData[<span style="color: #da8548; font-weight: bold;">0</span>])
            <span style="color: #c678dd;">SampleView</span>(data: someData[<span style="color: #da8548; font-weight: bold;">1</span>])
        }
        .<span style="color: #c678dd;">previewLayout</span>(.<span style="color: #c678dd;">fixed</span>(width: <span style="color: #da8548; font-weight: bold;">300</span>, height: <span style="color: #da8548; font-weight: bold;">100</span>))
    }
}
</pre>
</div>
<p>
밝은 모드나 다크 모드 시의 차이를 한 번에 볼 때도 유용합니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        Group {
            <span style="color: #c678dd;">SampleView</span>()
                .<span style="color: #c678dd;">environment</span>(\.<span style="color: #dcaeea;">colorScheme</span>, .<span style="color: #dcaeea;">light</span>)
            <span style="color: #c678dd;">SampleView</span>()
                .<span style="color: #c678dd;">environment</span>(\.<span style="color: #dcaeea;">colorScheme</span>, .<span style="color: #dcaeea;">dark</span>)
        }
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org31a3263" class="outline-2">
<h2 id="org31a3263">디바이스별 미리보기</h2>
<div class="outline-text-2" id="text-org31a3263">
<p>
특정 디바이스 시뮬레이터로 미리보기를 할 수도 있습니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        <span style="color: #c678dd;">SomeView</span>()
            .<span style="color: #c678dd;">previewDevice</span>(<span style="color: #c678dd;">PreviewDevice</span>(rawValue: <span style="color: #98be65;">"iPhone SE"</span>))
    }
}
</pre>
</div>
<p>
멀티 디바이스 미리보기도 가능합니다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        <span style="color: #c678dd;">SomeView</span>()
            .<span style="color: #c678dd;">previewDevice</span>(<span style="color: #c678dd;">PreviewDevice</span>(rawValue: <span style="color: #98be65;">"iPhone SE"</span>))
        <span style="color: #c678dd;">SomeView</span>()
            .<span style="color: #c678dd;">previewDevice</span>(<span style="color: #c678dd;">PreviewDevice</span>(rawValue: <span style="color: #98be65;">"iPhone XS Max"</span>))
    }
}
</pre>
</div>
<p>
디바이스가 많으면 ForEach로 묶어버릴 수도 있습니다. 기왕 하는거 프리뷰 밑에
이름도 붙여서 구분이 되도록 해 봅시다.
</p>
<div class="org-src-container">
<pre class="src src-swift"><span style="color: #51afef;">struct</span> <span style="color: #c678dd;">SampleView_Previews</span>: PreviewProvider {
    <span style="color: #51afef;">static</span> <span style="color: #51afef;">var</span> previews: <span style="color: #51afef;">some</span> View {
        <span style="color: #c678dd;">ForEach</span>([<span style="color: #98be65;">"iPhone SE"</span>, <span style="color: #98be65;">"iPhone XS"</span>, <span style="color: #98be65;">"iPhone XS Max"</span>], id: \.<span style="color: #51afef;">self</span>) {
            deviceName <span style="color: #51afef;">in</span>
            <span style="color: #c678dd;">SomeView</span>()
                .<span style="color: #c678dd;">previewDevice</span>(<span style="color: #c678dd;">PreviewDevice</span>(rawValue: deviceName))
                .<span style="color: #c678dd;">previewDisplayName</span>(deviceName)
        }
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orga2bd04d" class="outline-2">
<h2 id="orga2bd04d">관련글</h2>
<div class="outline-text-2" id="text-orga2bd04d">
<ul class="org-ul">
<li><a href="./swift.html">Swift</a></li>
<li><a href="swiftui.html">SwiftUI</a></li>
</ul>
</div>
</div>
<div id="footer"><div id="time">2020년 01월 06일 마지막으로 수정됨</div><div id="copyright">Copyright 2019 Heeseung Seo (Seorenn)</div></div></div>
</body>
</html>
