<!DOCTYPE html><html lang="ko"><head><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1"><meta http-equiv="Content-Type"content="text/html; charset=UTF-8"><link rel="stylesheet"href="/static/style.min.css"><title>Docker CLI 명령 정리 - Seorenn Note</title><meta name="twitter:title"content="Docker CLI 명령 정리"><meta name="og:title"content="Docker CLI 명령 정리"><meta name="description"content="Docker에서 자주 사용되는 터미널 명령들 정리"><meta name="twitter:description"content="Docker에서 자주 사용되는 터미널 명령들 정리"><meta name="og:description"content="Docker에서 자주 사용되는 터미널 명령들 정리"><link rel="canonical"href="https://seorenn.github.io/note/docker-cli-commands.html"><meta property="og:url"content="https://seorenn.github.io/note/docker-cli-commands.html"><link rel="shortcut icon"type="image/x-icon"href="/static/favicon.ico"><meta name="twitter:image"content="https://seorenn.github.io/static/seorenn-symbol.png"><meta property="og:image"content="https://seorenn.github.io/static/seorenn-symbol.png"><meta property="og:image:width"content="520"><meta property="og:image:height"content="329"><meta name="twitter:card"content="summary"><meta name="twitter:site"content="@seorenn"><meta name="twitter:creator"content="@seorenn"><meta property="og:type"content="article"><meta property="og:site_name"content="Seorenn"><meta property="og:locale"content="ko_KR"><meta name="referrer"content="unsafe-url"><meta name="robots"content="follow,index"><meta name="google-site-verification"content="YqTFZuthbvGIlDE1dhxiTjZ3m-GfyNs_rsHaOlPKpug"><meta name="naver-site-verification"content="ebf6a89968fd9f447c1a77d83e2c4aa9bdbb0345"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-ad-client="ca-pub-1071465863344332"async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div class="header-content"><header class="top-header"><div class="logo-container"><span class="vertical-center-helper"></span> <a href="/"title="Seorenn"><img class="site-logo"src="/static/seorenn-note-logo-light.png"alt="Seorenn Note"></a><nav><span class="vertical-center-helper"></span> <a href="/"title="Home">HOME</a> | <a href="/note"title="All Notes">NOTES</a></nav></div></header></div><div class="content-container"><section class="content"><div class="mid-ad-container"><ins class="adsbygoogle mid-ad"style="display:block"data-ad-client="ca-pub-1071465863344332"data-ad-slot="4306465772"data-ad-format="auto"data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><header><h1>Docker CLI 명령 정리</h1><div class="title-date">2020년 7월 20일 수정</div></header><div id="table-of-contents"><h2>≡ 목차 (Table of Contents)</h2><div id="text-table-of-contents"><ul><li><a href="#67f33832">imges: 이미지 리스트</a></li><li><a href="#30602e97">pull: 이미지 다운로드</a></li><li><a href="#fb1646a6">build: 이미지 만들기</a></li><li><a href="#45843c99">run: 컨테이너 실행시키기</a></li><li><a href="#91747615">exec: 컨테이너에서 명령 실행</a></li><li><a href="#9e8cfaec">log: 로그 보기</a></li><li><a href="#5bb8b552">ps: 컨테이너 상태 보기</a></li><li><a href="#d87521d4">stop: 컨테이너 종료</a></li><li><a href="#5717265b">kill: 컨테이너 강제 종료</a></li><li><a href="#760916b9">rm: 컨테이너 삭제</a></li><li><a href="#7acebc37">network: 커스텀 네트워크</a></li><li><a href="#fe65a4df">rmi: 이미지 삭제하기</a></li><li><a href="#93f3f812">history: 도커 이미지 업데이트 내역</a></li><li><a href="#0bbb90e1">외부 링크</a></li></ul></div></div><p>이 글은 <a href="docker.html">Docker</a>를 <a href="cli.html">CLI</a>로 다룰 때 사용하는 명령어를 일부 정리한다.</p><div id="outline-container-67f33832"class="outline-2"><h2 id="67f33832">imges: 이미지 리스트</h2><div class="outline-text-2"id="text-67f33832"><p>현재 로컬에 다운로드 받거나 생성한 이미지 리스트를 볼 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker images
</pre></div></div></div><div id="outline-container-30602e97"class="outline-2"><h2 id="30602e97">pull: 이미지 다운로드</h2><div class="outline-text-2"id="text-30602e97"><p>이미지를 다운로드 받는다. 로컬에서 돌리려면 반드시 필요한 과정이다.</p><div class="org-src-container"><pre class="src src-bash">docker pull IMAGE_NAME<span style="color:#51afef">[</span>:TAG<span style="color:#51afef">]</span>
</pre></div><p>하지만 이 명령 없이도 다른 명령으로 필요할 때 자동으로 이미지를 다운로드를 받기 때문에 이 명령을 수동으로 사용할 일이 과연 얼마나 있을지는 잘 모르겠다.</p></div></div><div id="outline-container-fb1646a6"class="outline-2"><h2 id="fb1646a6">build: 이미지 만들기</h2><div class="outline-text-2"id="text-fb1646a6"><p>현재 디렉터리에 있는 <code>Dockerfile</code> 을 이용해 이미지를 빌드한다.</p><div class="org-src-container"><pre class="src src-bash">docker build .
</pre></div><p>마지막의 <code>.</code> 은 빌드하는 디렉터리가 현재 디렉터리임을 의미한다. 즉 현재 디렉터리에 있는 자원을 이용한다는 의미다.</p><p>별도로 태그를 붙이거나 이름을 짓고 싶다면 <code>-t</code> 옵션을 붙일 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker build -t myimage .
</pre></div><p>이미지 스펙 파일은 <code>Dockerfile</code> 이라는 이름을 써야하지만 물론 마음대로 이름을 지을 수도 있다. 대신 이름을 마음대로 지었다면 <code>-f</code> 옵션으로 이름을 알려주어야 한다.</p><div class="org-src-container"><pre class="src src-bash">docker build -f /foo/bar/some/docker-file-name .
</pre></div><p>옵션 순서에 주의하자.</p></div></div><div id="outline-container-45843c99"class="outline-2"><h2 id="45843c99">run: 컨테이너 실행시키기</h2><div class="outline-text-2"id="text-45843c99"><p>이미지를 실행시켜서 컨테이너를 띄운다.</p><div class="org-src-container"><pre class="src src-bash">docker run IMAGE_NAME
</pre></div><p>정확하게 말해서 <code>run</code> 명령은 <code>create</code> 와 <code>start</code> 명령이 결합된 형태이지만, 아무래도 이렇게 나눠서 쓰기 보다는 그냥 <code>run</code> 커맨드가 편한 것 같다.</p><p>백그라운드 잡으로 돌리기 위해 <code>-d</code> 옵션을 줄 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker run -d IMAGE_NAME
</pre></div><p>이 외에 실행 시에 엄청난 옵션을 다룰 일이 많다. 특히 개발 단계에서는 아래와 같은 옵션들을 쓸 수도 있다.</p><div class="org-src-container"><pre class="src src-bash">docker run <span style="color:#98be65">\</span>
    --rm <span style="color:#98be65">\</span>
    -it <span style="color:#98be65">\</span>
    --name <span style="color:#98be65">"container-name"</span>
    --net NETWORK_NAME <span style="color:#98be65">\</span>
    -p 8000:8000 <span style="color:#98be65">\</span>
    -v /foo/bar:/tmp/foo/bar <span style="color:#98be65">\</span>
    -e <span style="color:#dcaeea">ENV_NAME</span>=<span style="color:#98be65">"value"</span> <span style="color:#98be65">\</span>
    IMAGE_NAME:TAG_NAME
</pre></div><dl class="org-dl"><dt><code>--rm</code></dt><dd>컨테이너가 종료되면 자동으로 컨테이너를 삭제한다.</dd><dt><code>-it</code></dt><dd><code>-i</code> 와 <code>-t</code> 옵션을 한 번에 적은 것으로 커맨드를 터미널 인터랙티브로 실행시킨다. <a href="shell.html">셸</a>을 띄우려면 필수다.</dd><dt><code>--name NAME</code></dt><dd>컨테이너 이름을 지을 수 있다.</dd><dt><code>--net NETWORK</code></dt><dd>네트워크를 별도로 선택할 수 있다.</dd><dt><code>-p HOST:CONTAINER</code></dt><dd>호스트 포트와 컨테이너 내부 포트를 연결한다.</dd><dt><code>-v HOST:CONTAINER</code></dt><dd>호스트 파일 시스템과 컨테이너 내부 파일 시스템을 연결한다.</dd><dt><code>-e NAME=VALUE</code></dt><dd>환경변수를 전달한다.</dd></dl></div></div><div id="outline-container-91747615"class="outline-2"><h2 id="91747615">exec: 컨테이너에서 명령 실행</h2><div class="outline-text-2"id="text-91747615"><p><code>run</code> 이 컨테이너를 띄우는 것이라면 <code>exec</code> 는 이미 떠있는 컨테이너에 명령을 내릴 때 사용한다.</p><div class="org-src-container"><pre class="src src-bash">docker exec -it CONTAINER COMMAND
</pre></div><dl class="org-dl"><dt><code>-it</code></dt><dd>동일하게 터미널에서 명령을 입력하고 결과를 보기 위해선 필수다.</dd><dt><code>CONTAINER</code></dt><dd>컨테이너 ID를 쓸 수도 있고, 만약 이름을 별도로 지었다면 그 이름도 쓸 수 있다.</dd><dt><code>COMMAND</code></dt><dd>컨테이너에서 실행시킬 명령을 적는 곳인데, <a href="shell.html">셸</a> 자체를 실행시키는 명령을 적을 수도 있고 <a href="cli.html">CLI</a> 커맨드를 그대로 적어서 컨테이너에서 실행시킬 수 있다.</dd></dl></div></div><div id="outline-container-9e8cfaec"class="outline-2"><h2 id="9e8cfaec">log: 로그 보기</h2><div class="outline-text-2"id="text-9e8cfaec"><p><code>-d</code> 옵션 없이 포그라운드로 돌렸다면 바로 터미널에서 로그가 보이겠지만 그렇지 않고 백그라운드 잡으로 돌려놓은 상태라면 로그를 보기위해 이 명령을 사용할 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker logs -f CONTAINER
</pre></div><p><code>-f</code> 옵션은 <code>tail</code> 의 그것과 비슷하게 업데이트되는 것을 지속적으로 볼 수 있는 옵션이다. 나머지 컨테이너는 ID나 혹은 이름을 넣을 수도 있다.</p></div></div><div id="outline-container-5bb8b552"class="outline-2"><h2 id="5bb8b552">ps: 컨테이너 상태 보기</h2><div class="outline-text-2"id="text-5bb8b552"><p>아래 명령은 실행 중인 컨테이너 목록을 보여준다.</p><div class="org-src-container"><pre class="src src-bash">docker ps
</pre></div><p>추가로 여기에 아래 옵션을 더 쓸 수도 있다.</p><dl class="org-dl"><dt><code>-a</code></dt><dd>실행 중이던 아니던 모든 컨테이너 리스트를 조회</dd><dt><code>-q</code></dt><dd>주변의 꾸미는 내용은 다 생략하고 컨테이너 고유 번호 만을 출력한다. <a href="shell.html">셸</a> 스크립팅 시 다른 커맨드에 인자로 넘겨야 할 때 유용하다.</dd></dl></div></div><div id="outline-container-d87521d4"class="outline-2"><h2 id="d87521d4">stop: 컨테이너 종료</h2><div class="outline-text-2"id="text-d87521d4"><div class="org-src-container"><pre class="src src-bash">docker stop CONTAINER
</pre></div><p>종료만 하지 삭제하지는 않는다.</p></div></div><div id="outline-container-5717265b"class="outline-2"><h2 id="5717265b">kill: 컨테이너 강제 종료</h2><div class="outline-text-2"id="text-5717265b"><div class="org-src-container"><pre class="src src-bash">docker <span style="color:#ecbe7b">kill</span> CONTAINER
</pre></div><p>이름처럼 좀 세게(?) 죽인다.</p><p>만약 모든 컨테이너를 kill 하고 싶다면 아래처럼 스크립팅 할 수 있다.</p><div class="org-src-container"><pre class="src src-sh">docker <span style="color:#ecbe7b">kill</span> $<span style="color:#51afef">(</span>docker ps -q<span style="color:#51afef">)</span>
</pre></div></div></div><div id="outline-container-760916b9"class="outline-2"><h2 id="760916b9">rm: 컨테이너 삭제</h2><div class="outline-text-2"id="text-760916b9"><div class="org-src-container"><pre class="src src-bash">docker <span style="color:#ecbe7b">rm</span> CONTAINER
</pre></div><p>컨테이너 목록에서 해당 중지된 컨테이너를 삭제한다. <code>create</code> 명령의 상반된 용도다.</p><p>만약 모든 컨테이너를 삭제하고 싶다면 아래와 같이 스크립팅 할 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker <span style="color:#ecbe7b">rm</span> $<span style="color:#51afef">(</span>docker ps -a -q<span style="color:#51afef">)</span>
</pre></div></div></div><div id="outline-container-7acebc37"class="outline-2"><h2 id="7acebc37">network: 커스텀 네트워크</h2><div class="outline-text-2"id="text-7acebc37"><p>이 명령은 별도의 네트워크를 관리하고 싶을 때 사용한다.</p><p><code>ls</code> 명령으로 현재 네트워크 목록을 만들 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker network <span style="color:#ecbe7b">ls</span>
</pre></div><p><code>create</code> 명령으로 별도의 네트워크를 생성할 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker network create NAME
</pre></div><p><code>rm</code> 명령으로 생성한 네트워크를 삭제할 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker network <span style="color:#ecbe7b">rm</span> NAME
</pre></div><p><code>rm</code> 대신 <code>prune</code> 으로 모든 커스텀 네트워크를 삭제할 수 있다. 기본 네트워크는 삭제되지 않으니 걱정없이 사용할 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker network prune
</pre></div></div></div><div id="outline-container-fe65a4df"class="outline-2"><h2 id="fe65a4df">rmi: 이미지 삭제하기</h2><div class="outline-text-2"id="text-fe65a4df"><p>자주 쓸 일은 없지만 <code>rmi</code> 명령으로 다운로드 받은 이미지를 삭제할 수 있다. 주로 시스템 공간을 비울 때 사용된다.</p><div class="org-src-container"><pre class="src src-bash">docker rmi IMAGE_NAME
</pre></div></div></div><div id="outline-container-93f3f812"class="outline-2"><h2 id="93f3f812">history: 도커 이미지 업데이트 내역</h2><div class="outline-text-2"id="text-93f3f812"><p>제목대로 이미지의 히스토리를 볼 수 있다.</p><div class="org-src-container"><pre class="src src-bash">docker history IMAGE_NAME
</pre></div></div></div><div id="outline-container-0bbb90e1"class="outline-2"><h2 id="0bbb90e1">외부 링크</h2><div class="outline-text-2"id="text-0bbb90e1"><ul class="org-ul"><li><a target="_blank"href="https://github.com/wsargent/docker-cheat-sheet">🌏Docker Cheat Sheet</a></li></ul></div></div><div class="mid-ad-container"><ins class="adsbygoogle mid-ad"style="display:block"data-ad-client="ca-pub-1071465863344332"data-ad-slot="4306465772"data-ad-format="auto"data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="backlinks-container"><hr><h1>이 글을 링크하는 글들</h1><div class="article-link"><div class="article-link-title-block"><h2><a class="article-link-title"href="/note/docker.html">Docker</a></h2><span class="article-description">컨테이너 기반 가상화 플랫폼인 도커(Docker)에 대한 글들</span><span class="article-link-date"> 2020년 7월 21일 수정</span></div></div><div class="article-link"><div class="article-link-title-block"><h2><a class="article-link-title"href="/note/docker-development-environment.html">Docker로 개발환경을 만들어보자</a></h2><span class="article-description">그냥 더렵혀지기 싫어하는 이상한 성질 좀 버리면 좋을 것 같은 인간의 개발 및 테스트 환경 구축 이야기</span><span class="article-link-date"> 2020년 7월 15일 수정</span></div></div><div class="article-link"><div class="article-link-title-block"><h2><a class="article-link-title"href="/note/docker-multi-container-devenv.html">Docker 멀티 컨테이너 개발 환경</a></h2><span class="article-description">이제 세상은 마이크로 서비스들로 구성되는 세상인데 컨테이너 하나만으로 뭔가 하는 건 이상한 것이겠지?</span><span class="article-link-date"> 2020년 7월 14일 수정</span></div></div></div></section></div><div class="footer-content"><footer>Copyright 2019 ~ 2020. Seorenn all rights reserved.</footer></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44534026-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-44534026-1")</script></body></html>