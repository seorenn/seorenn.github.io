<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="/static/style.min.css" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
<title>Python 3로 수동으로 옮겨가기 - Seorenn Note</title>
<meta name="twitter:title" content="Python 3로 수동으로 옮겨가기" />
<meta name="og:title" content="Python 3로 수동으로 옮겨가기" />
<meta name="description" content="Python 3 수동 마이그레이션에 대해 정리해보자" />
<meta name="twitter:description" content="Python 3 수동 마이그레이션에 대해 정리해보자" />
<meta name="og:description" content="Python 3 수동 마이그레이션에 대해 정리해보자" />
<link rel="canonical" href="https://seorenn.github.io/note/python3-manual-migration.html" />
<meta property="og:url" content="https://seorenn.github.io/note/python3-manual-migration.html" />
<link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico" />
<meta name="twitter:image"content="https://seorenn.github.io/static/seorenn-symbol.png" />
<meta property="og:image" content="https://seorenn.github.io/static/seorenn-symbol.png" />
<meta property="og:image:width" content="520" />
<meta property="og:image:height" content="329" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@seorenn" />
<meta name="twitter:creator" content="@seorenn" />
<meta property="og:type" content="article" />
<meta property="og:site_name" content="Seorenn" />
<meta property="og:locale" content="ko_KR" />
<meta name="referrer" content="unsafe-url" />
<meta name="robots" content="follow,index" />
<meta name="google-site-verification" content="YqTFZuthbvGIlDE1dhxiTjZ3m-GfyNs_rsHaOlPKpug" />
<meta name="naver-site-verification" content="ebf6a89968fd9f447c1a77d83e2c4aa9bdbb0345" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script data-ad-client="ca-pub-1071465863344332" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
<div class="content-container">
<div class="left-empty"></div>
<div class="header-content">
<header class="top-header">
<div class="logo-container">
<a href="/" title="Seorenn"><img class="site-logo" src="/static/seorenn-logo.png" alt="Seorenn" /></a>
<nav>
<a href="/" title="Home"><i class="material-icons md-light">home</i></a>
<a href="/note" title="Note"><i class="material-icons md-light">list_alt</i></a>
</nav>
</div>
</header>
<hr/>
</div>
<div class="side-ad-container"></div>
</div>
<div class="content-container">
<div class="left-empty">
</div>
<section class="content">
<header>
<h1>Python 3로 수동으로 옮겨가기</h1>
<div class="title-date">2020년 6월 21일 수정</div>
</header>
<div id="table-of-contents">
<h2>≡ 목차 (Table of Contents)</h2><div id="text-table-of-contents">
<ul>
<li><a href="#49ec35cc">print 함수</a></li>
<li><a href="#fdad79c3">Long?</a></li>
<li><a href="#73297c5d">except 문법 변경</a></li>
<li><a href="#1d1442c0">이름이나 구조가 바뀐 모듈들</a></li>
<li><a href="#df87ff45">유니코드?</a></li>
<li><a href="#eb144a4e">사라진 xrange</a></li>
</ul>
</div>
</div>
<p>
이 글은 별 다른 도구 없이 <a href="python.html">Python</a> 2.x 코드를 <a href="python.html">Python</a> 3.x 코드로 옮길 때 개인적으로 겪었던 문제점 및 해결법을 간단하게 메모하는 글이다.
</p>

<div id="outline-container-49ec35cc" class="outline-2">
<h2 id="49ec35cc">print 함수</h2>
<div class="outline-text-2" id="text-49ec35cc">
<p>
print가 함수 형태로 바뀌었다.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">print</span> <span style="color: #98be65;">"foo"</span>, bar
</pre>
</div>
<p>
위 코드는 아래 처럼 수정해야 한다.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">print</span>(<span style="color: #98be65;">"foo"</span>, bar)
</pre>
</div>
</div>
</div>
<div id="outline-container-fdad79c3" class="outline-2">
<h2 id="fdad79c3">Long?</h2>
<div class="outline-text-2" id="text-fdad79c3">
<p>
<code>123456678L</code> 처럼 긴 정수를 표현할 때 끝에 <code>L</code> 을 붙이는 경우도 있었는데 3.x 에서는 이렇게 하면 오히려 오류가 난다. 모든 큰 정수는 자동으로 BIG INTEGER가 되니 걱정하지 말고 <code>L</code> 을 떼어내자.
</p>
</div>
</div>
<div id="outline-container-73297c5d" class="outline-2">
<h2 id="73297c5d">except 문법 변경</h2>
<div class="outline-text-2" id="text-73297c5d">
<p>
예외처리 시 상세한 예외 정보를 받는 인터페이스가 바뀌었다.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">except</span> SomeException, e:
    ...
</pre>
</div>
<p>
위 코드는 아래 처럼 수정해야 한다.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">except</span> SomeException <span style="color: #51afef;">as</span> e:
    ...
</pre>
</div>
<p>
다중 예외 처리도 비슷하다.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">except</span> (FooException, BarException) <span style="color: #51afef;">as</span> e:
    ...
</pre>
</div>
</div>
</div>
<div id="outline-container-1d1442c0" class="outline-2">
<h2 id="1d1442c0">이름이나 구조가 바뀐 모듈들</h2>
<div class="outline-text-2" id="text-1d1442c0">
<p>
예를 들자면 이런 것들이 있다.
</p>
<ul class="org-ul">
<li><code>Queue</code> 는 <code>queue.Queue</code> 로 소속이 바뀌었다.</li>
<li><code>urlparse</code> 는 <code>urllib.parse</code> 로 이름과 소속이 바뀌었다.</li>
<li><code>StringIO</code> 는 <code>io.StringIO</code> 로 소속이 바뀌었다.</li>
</ul>
</div>
</div>
<div id="outline-container-df87ff45" class="outline-2">
<h2 id="df87ff45">유니코드?</h2>
<div class="outline-text-2" id="text-df87ff45">
<p>
일단 다짜고짜 에러 메시지부터 보자.
</p>
<blockquote>
<p>
TypeError: Unicode-objects must be encoded before hashing
</p>
</blockquote>
<p>
위 오류는 아래 코드에서 발생했다.
</p>
<div class="org-src-container">
<pre class="src src-python">md5(<span style="color: #98be65;">'some string'</span>).hexdigest()
</pre>
</div>
<p>
에러 메시지를 보면 알 수 있겠지만 이 경우 인코딩을 명시하면 해결된다.
</p>
<div class="org-src-container">
<pre class="src src-python">md5(<span style="color: #98be65;">'some string'</span>.encode(<span style="color: #98be65;">'utf-8'</span>)).hexdigest()
</pre>
</div>
</div>
</div>
<div id="outline-container-eb144a4e" class="outline-2">
<h2 id="eb144a4e">사라진 xrange</h2>
<div class="outline-text-2" id="text-eb144a4e">
<p>
성능 때문에 사용하던 <code>xrange</code> 가 사라졌다. 이제 그냥 <code>range</code> 를 맘 놓고(?) 쓰면 된다.
</p>

<p>
리스트 형태로 받고 싶다면 당연히 리스트로 변환해서 쓰면 된다.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #c678dd;">list</span>(<span style="color: #c678dd;">range</span>(...))
</pre>
</div>
</div>
</div>
<div class="mid-ad-container">
<ins class="adsbygoogle mid-ad"
     style="display:block"
     data-ad-client="ca-pub-1071465863344332"
     data-ad-slot="4306465772"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="backlinks-container">
<hr /><h1>이 글을 링크하는 글들</h1>
<div class="article-link">
<div class="article-link-title-block">
<h2><a class="article-link-title" href="/note/python.html">Python</a></h2>
<div class="article-link-date">
2020년 6월 21일 수정</div>
</div>
</div>
</div>
</section>
<div class="side-ad-container">
<ins class="adsbygoogle side-ad"
     style="display:block"
     data-ad-client="ca-pub-1071465863344332"
     data-ad-slot="4306465772"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
<div class="content-container">
<div class="left-empty"></div>
<div class="header-content">
<hr/>
<footer>
Copyright 2019 ~ 2020. Seorenn all rights reserved.
</footer>
</div><div class="side-ad-container"></div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44534026-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-44534026-1');
</script>
</body>
</html>
