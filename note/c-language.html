<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="/static/style.css" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
<title>C 언어 - Seorenn Note</title>
<meta name="twitter:title" content="C 언어" />
<meta name="og:title" content="C 언어" />
<meta name="description" content="C 언어에 대한 이야기들" />
<meta name="twitter:description" content="C 언어에 대한 이야기들" />
<meta name="og:description" content="C 언어에 대한 이야기들" />
<link rel="canonical" href="https://seorenn.github.io/note/c-language.html" />
<meta property="og:url" content="https://seorenn.github.io/note/c-language.html" />
<link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico" />
<meta name="twitter:image"content="https://seorenn.github.io/static/seorenn-symbol.png" />
<meta property="og:image" content="https://seorenn.github.io/static/seorenn-symbol.png" />
<meta property="og:image:width" content="520" />
<meta property="og:image:height" content="329" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@seorenn" />
<meta name="twitter:creator" content="@seorenn" />
<meta property="og:type" content="article" />
<meta property="og:site_name" content="Seorenn" />
<meta property="og:locale" content="ko_KR" />
<meta name="referrer" content="unsafe-url" />
<meta name="robots" content="follow,index" />
<meta name="google-site-verification" content="YqTFZuthbvGIlDE1dhxiTjZ3m-GfyNs_rsHaOlPKpug" />
<meta name="naver-site-verification" content="ebf6a89968fd9f447c1a77d83e2c4aa9bdbb0345" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script data-ad-client="ca-pub-1071465863344332" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
<div class="content-container">
<div class="left-empty"></div>
<div class="header-content">
<header class="top-header">
<div class="logo-container">
<a href="/" title="Seorenn"><img class="site-logo" src="/static/seorenn-logo.png" /></a>
<nav>
<a href="/" title="Home"><i class="material-icons md-light">home</i></a>
<a href="/post" title="Post"><i class="material-icons md-light">subject</i></a>
 <a href="/note" title="Note"><i class="material-icons md-light">list_alt</i></a>
 <a href="/log" title="Log"><i class="material-icons md-light">portrait</i></a>
</nav>
</div>
</header>
<hr/>
</div>
<div class="side-ad-container"></div>
</div>
<div class="content-container">
<div class="left-empty">
</div>
<section class="content">
<header>
<h1>C 언어</h1>
<div class="title-date">2020년 6월 3일 수정</div>
</header>
<div id="table-of-contents">
<h2>≡ 목차 (Table of Contents)</h2><div id="text-table-of-contents">
<ul>
<li><a href="#aa5a8671">진입점(Entry Point)</a></li>
<li><a href="#9375884c">Clang</a></li>
<li><a href="#9584e6e7">포인터(Point)</a></li>
</ul>
</div>
</div>
<p>
C 언어는 켄 톰슨과 데니스 리치에 의해 개발된 유닉스(Unix)를 위한 프로그래밍 언어다.
현재 주류로 사용되는 언어 중 실질적으로 가장 저수준(Low-Level)의 시스템 프로그래밍을 위한 언어로 볼 수 있다.
</p>

<blockquote>
<p>
프로그래밍 언어에서 저수준과 고수준은 언어의 품격이나 인기도 같은 걸 평가하는 것이 아니다.
저수준일수록 OS의 깊은 영역을 다루기 유리하다는 의미로 이해할 수 있다.
대신 응용 소프트웨어 제작에는 고수준 언어가 유리하다.
</p>
</blockquote>

<p>
상당수의 Unix 기반 유틸리티들은 대부분 C 언어로 작성되어 있다.
거기다 요즘은 리눅스 커널 같이 OS의 핵심도 대체로 C 언어로 쓰여져있다.
그리고 상당수의 언어들의 코어나 인터프리터 부분도 C 언어로 쓰여진 경우가 많다.
따라서 어떻게 보면 대부분의 시스템과 대부분의 프로그래밍 언어의 선조(혹은 재료?)로도 볼 수도 있다.
</p>

<p>
과거에는 어셈블리어의 관점에서 번역되기 쉬운 언어라서 속도에 유리한 점이 있었지만,
현재는 컴파일러들의 최적화 기술이 많이 발전된 상태라서 굳이 속도를 이점으로 잡기는 힘들다.
</p>

<div id="outline-container-aa5a8671" class="outline-2">
<h2 id="aa5a8671">진입점(Entry Point)</h2>
<div class="outline-text-2" id="text-aa5a8671">
<p>
C 언어는 아무 파일에 존재하는 유일한 <code>main</code> 함수에서 시작된다.
이 함수의 스펙은 C11 기준으로 아래 두 종류가 표준으로 정의되어 있다.
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ECBE7B;">int</span> <span style="color: #c678dd;">main</span>(<span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">argc</span>, <span style="color: #ECBE7B;">char</span> *<span style="color: #dcaeea;">argv</span>[]) { <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">...</span><span style="color: #5B6268;"> */</span> }
</pre>
</div>
<p>
우리가 흔히 사용하는 Unix 표준 방식은 위의 방식이다.
만약 프로그램의 인자가 사용되지 않는다면 아래처럼도 사용 가능하다.
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ECBE7B;">int</span> <span style="color: #c678dd;">main</span>(<span style="color: #ECBE7B;">void</span>) { <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">...</span><span style="color: #5B6268;"> */</span> }
</pre>
</div>
<p>
물론 인자가 있든 없든 아래 방식 보다는 위 방식이 많이 쓰인다.
</p>

<p>
이 내용은 표준일 뿐 강제가 아니다.
실제로 이 외의 다양한 방식으로 <code>main</code> 이 선언되고 사용되고 있다.
하지만 아무래도 표준 방식을 쓰는 것이 좋지 않을까?
</p>
</div>
</div>
<div id="outline-container-9375884c" class="outline-2">
<h2 id="9375884c">Clang</h2>
<div class="outline-text-2" id="text-9375884c">
<p>
Clang이라는 이름은 마치 C Language 라는 의미로 보이는데 실제로 이렇게 해석할 수도 있다.
실제로 C 혹은 C++이나 Objective-C 같이 C 언어에서 유래한 언어들 자체를 이렇게 부를 때도 있다.
다만 명확하게 하자면 Clang은 이 언어들의 컴파일러의 한 종류다.
</p>
</div>
</div>
<div id="outline-container-9584e6e7" class="outline-2">
<h2 id="9584e6e7">포인터(Point)</h2>
<div class="outline-text-2" id="text-9584e6e7">
<p>
C 언어를 악명높게 한 개념이 바로 이 포인터다. 이름 처럼 메모리 영역을 가리키는 목적으로 사용된다.
직접 메모리 주소를 포인팅하는 경우도 있지만 현대에서 이렇게 쓰는 경우는 없다고 보고,
사실상 포인터 변수를 별도로 만들어서 사용한다.
</p>

<p>
포인터가 주로 쓰이는 분야는 원시 타입(Primitive Type)을 제외한 타입을 매개변수로 전달할 때 사용한다.
C는 저수준(?) 언어이기 때문에 복잡한 타입의 값을 복사하는 등의 고차원적인 행동은 하지 않기 때문에
이런 복잡한 타입을 다루려면 어쩔 수 없이 포인터를 쓸 수 밖에 없다.
</p>

<p>
포인터 변수는 특정 타입에 <code>*</code> 를 붙여서 선언한다.
명확하게 하기 위해 타입을 정의할 때 띄어쓰기를 하면 포인터 타입과 일반 타입을 구분할 수 있다.
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">a</span> = <span style="color: #da8548; font-weight: bold;">0</span>;
<span style="color: #ECBE7B;">int</span> *<span style="color: #dcaeea;">ptr_a</span> = &amp;a;   <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">1</span><span style="color: #5B6268;"> */</span>
<span style="color: #ECBE7B;">int</span>* <span style="color: #dcaeea;">ptr_b</span> = &amp;a;   <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">2</span><span style="color: #5B6268;"> */</span>
</pre>
</div>
<p>
위 둘 다 같은 의미의 코드지만, 2번 코드가 띄어쓰기 덕분인지 <code>int 포인터 타입</code> 이라고 읽히기 유리한 것 같다.
물론 둘 다 허용되는 문법이며 이상하게 (나를 포함해서) 대부분 1번 방식을 많이 사용한다.
</p>

<p>
<code>&amp;</code> 는 알겠지만, 특정 변수의 포인터를 얻기 위해서 사용한다.
</p>

<p>
어쨌든 결과적으로 <code>ptr_a</code> 와 <code>ptr_b</code> 는 동일하게 a가 사용하는 메모리 공간을 가리키고 있다.
</p>

<p>
하지만 <code>a</code> 가 정수형임에 비해 <code>ptr_a</code> 와 <code>ptr_b</code> 는 정수 포인터 타입이다.
포인터 타입은 다른 타입의 크기와는 관계 없이 메모리 어드레스를 포인팅 하기 위한 타입이다.
따라서 넣을 수 있는 데이터의 한계도 원래의 타입과는 전혀 다르다.
</p>

<p>
포인터 변수의 내용을 바꾸는 것은 굉장히 위험한 일이다.
</p>
<div class="org-src-container">
<pre class="src src-c++">ptr_a = <span style="color: #da8548; font-weight: bold;">1</span>;
</pre>
</div>
<p>
아마 컴파일러가 경고를 낼 만한 코드인데,
이 코드는 ptr<sub>a가</sub> 1번 메모리 어드레스를 가리키게 한다.
여기를 읽거나 쓰는 행위는 어떤 결과가 발생할 지 알 수가 없으므로
포인터 변수에 직접 값을 할당하는 행위는 하지 말자.
</p>

<p>
포인터의 내용을 액세스하기 위해 <code>*</code> 를 사용한다.
</p>
<div class="org-src-container">
<pre class="src src-c++">*ptr_a = <span style="color: #da8548; font-weight: bold;">1</span>;
</pre>
</div>
<p>
이 코드는 ptr<sub>a가</sub> 가리키는 곳에 1을 쓴다는 의미다.
즉 <code>a</code> 의 값이 1로 바뀐다.
</p>

<p>
포인터는 배열과 매치하기 편한 편이다.
</p>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">lst</span>[] = { <span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>, <span style="color: #da8548; font-weight: bold;">4</span>, <span style="color: #da8548; font-weight: bold;">5</span> };
<span style="color: #ECBE7B;">int</span> *<span style="color: #dcaeea;">ptr_lst</span> = (<span style="color: #ECBE7B;">int</span> *)lst;
</pre>
</div>
<p>
이제 포인터를 활용해 이런 짓을 할 수도 있다.
</p>
<div class="org-src-container">
<pre class="src src-c++">printf(<span style="color: #98be65;">"first = %d, second = %d"</span>, *ptr_lst, *(ptr_lst + <span style="color: #da8548; font-weight: bold;">1</span>));
</pre>
</div>
<p>
배열은 연속적인 메모리로 할당된다.
포인터는 연속적인 메모리를 탐색하기에 편하다.
</p>

<p>
포인터 변수에 증감을 하는 행위는 해당 포인터가 어떤 타입의 포인터냐에 따라
실제로 가리키는 곳이 달라진다.
예를 들어 32비트 정수형 포인터 변수의 값에 1을 더하면
이 포인터가 가리키는 실제 주소는 원래에서 4바이트(32비트)가 증가된 곳이다.
</p>

<p>
포인터는 과거에는 물리적 메모리 어드레스를 다루기도 했는데
현대의 OS들은 가상 어드레스를 사용한다.
그래서 다른 언어들에서 쓰는 레퍼런스 개념과 비슷하게 생각해도
크게 틀리거나 하지는 않는다.
하지만 레퍼런스와 포인터가 완전히 같은 개념이 아니라는 것은 확실하게 이해하자.
</p>
</div>
</div>
<div class="mid-ad-container">
<ins class="adsbygoogle mid-ad"
     style="display:block"
     data-ad-client="ca-pub-1071465863344332"
     data-ad-slot="4306465772"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="backlinks-container">
<hr /><h1>이 글을 링크하는 글들</h1>
<div class="article-link">
<div class="article-link-title-block">
<h2><a class="article-link-title" href="/note/rust.html">Rust</a></h2>
<div class="article-link-date">
2020년 5월 31일 수정</div>
</div>
</div>
<div class="article-link">
<div class="article-link-title-block">
<h2><a class="article-link-title" href="/note/definition.html">정의</a></h2>
<div class="article-link-date">
2020년 5월 30일 수정</div>
</div>
</div>
<div class="article-link">
<div class="article-link-title-block">
<h2><a class="article-link-title" href="/note/objective-c.html">Objective-C</a></h2>
<div class="article-link-date">
2020년 5월 30일 수정</div>
</div>
</div>
<div class="article-link">
<div class="article-link-title-block">
<h2><a class="article-link-title" href="/note/implementation.html">구현</a></h2>
<div class="article-link-date">
2020년 5월 30일 수정</div>
</div>
</div>
</div>
</section>
<div class="side-ad-container">
<ins class="adsbygoogle side-ad"
     style="display:block"
     data-ad-client="ca-pub-1071465863344332"
     data-ad-slot="4306465772"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
<div class="content-container">
<div class="left-empty"></div>
<div class="header-content">
<hr/>
<footer>
Copyright 2019 ~ 2020. Seorenn all rights reserved.
</footer>
</div><div class="side-ad-container"></div>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-44534026-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-44534026-1');
</script>
</body>
</html>
