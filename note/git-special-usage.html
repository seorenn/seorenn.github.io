<!DOCTYPE html><html lang="ko"><head><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1"><meta http-equiv="Content-Type"content="text/html; charset=UTF-8"><link rel="stylesheet"href="/static/style.min.css"><meta name="battery-savings"content="allow-reduced-framerate allow-reduced-script-speed"><title>Git 약간 특별한 사용법 - Seorenn Note</title><meta name="twitter:title"content="Git 약간 특별한 사용법"><meta name="og:title"content="Git 약간 특별한 사용법"><meta name="description"content="Git의 약간은 특별한 기능들을 살펴보는 글"><meta name="twitter:description"content="Git의 약간은 특별한 기능들을 살펴보는 글"><meta name="og:description"content="Git의 약간은 특별한 기능들을 살펴보는 글"><link rel="canonical"href="https://seorenn.github.io/note/git-special-usage.html"><meta property="og:url"content="https://seorenn.github.io/note/git-special-usage.html"><link rel="shortcut icon"type="image/x-icon"href="/static/favicon.ico"><meta name="twitter:image"content="https://seorenn.github.io/static/seorenn-symbol.png"><meta property="og:image"content="https://seorenn.github.io/static/seorenn-symbol.png"><meta property="og:image:width"content="520"><meta property="og:image:height"content="329"><meta name="twitter:card"content="summary"><meta name="twitter:site"content="@seorenn"><meta name="twitter:creator"content="@seorenn"><meta property="og:type"content="article"><meta property="og:site_name"content="Seorenn"><meta property="og:locale"content="ko_KR"><meta name="referrer"content="unsafe-url"><meta name="robots"content="follow,index"><meta name="google-site-verification"content="YqTFZuthbvGIlDE1dhxiTjZ3m-GfyNs_rsHaOlPKpug"><meta name="naver-site-verification"content="24609571c04926ab1220d5d02610efa1c9e12221"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-ad-client="ca-pub-1071465863344332"async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div class="header-content"><header class="top-header"><div class="logo-container"><span class="vertical-center-helper"></span> <a href="/"title="Seorenn"><img class="site-logo"src="/static/seorenn-note-logo-light.png"alt="Seorenn Note"></a><nav><span class="vertical-center-helper"></span> <a href="/"title="Home">HOME</a> | <a href="/note"title="All Notes">NOTES</a></nav></div></header></div><div class="content-container"><section class="content"><div class="mid-ad-container"><ins class="adsbygoogle mid-ad"style="display:block"data-ad-client="ca-pub-1071465863344332"data-ad-slot="4306465772"data-ad-format="auto"data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><header><h1>Git 약간 특별한 사용법</h1><div class="title-date">2020년 9월 3일 수정</div></header><div id="table-of-contents"><h2>≡ 목차 (Table of Contents)</h2><div id="text-table-of-contents"><ul><li><a href="#fc8646b8">Reset Last Commit</a></li><li><a href="#eed384c2">변경점만 스테이지 하기(Stage Patch)</a></li><li><a href="#1d39026e">커밋 메시지 수정하기</a></li><li><a href="#f98c521a">브랜치 간 파일 비교하기</a></li><li><a href="#87c1062a">특정 파일의 수정 이력 조회하기</a></li><li><a href="#4d1d5b7a">다른 브랜치에서 파일 복사해오기</a></li><li><a href="#7b82683b">특정 원격 브랜치를 로컬에 그대로 가져오기</a></li><li><a href="#7f367055">다른 브랜치의 내용 패치 하기</a></li><li><a href="#895ccfb2">커밋 합치기</a></li><li><a href="#77d2d8d6">업데이트 무시하기</a></li><li><a href="#9778452b">원격과 브랜치 동기화 하기</a></li><li><a href="#85d45b36">다른 브랜치간의 변경 내역만 뽑아서 적용하기</a></li><li><a href="#36991e45">로컬의 변경점을 무시하고 원격으로 되돌리기</a></li></ul></div></div><p>이 글은 <a href="git.html">Git</a>에서 그나마 자주 사용하지는 않지만 한 번 쯤은 사용할 지도 모를 기능을 정리한다. 특별함의 기준은 그냥 개인적으로 잘 안 쓰는 기능 정도다. 이 외의 기본적인 기능은 <a href="git-basic-usage.html">Git 일반적인 사용법</a> 글을 참고하자.</p><div id="outline-container-fc8646b8"class="outline-2"><h2 id="fc8646b8">Reset Last Commit</h2><div class="outline-text-2"id="text-fc8646b8"><p>If you committed accidentlly, you can cancel commit and revert your workspace to pre-commit by below:</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> reset HEAD~
</pre></div></div></div><div id="outline-container-eed384c2"class="outline-2"><h2 id="eed384c2">변경점만 스테이지 하기(Stage Patch)</h2><div class="outline-text-2"id="text-eed384c2"><p>파일 단위가 아니라 변경된 내역 단위로 스테이지 하려면 <code>-p</code> 옵션을 추가로 사용한다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> add -p
</pre></div><p>이렇게 하면 각 변경점 위주로 리뷰하며 스테이지할 패치를 고를 수 있다.</p></div></div><div id="outline-container-1d39026e"class="outline-2"><h2 id="1d39026e">커밋 메시지 수정하기</h2><div class="outline-text-2"id="text-1d39026e"><p>아래 명령으로 가장 최근의 커밋 메시지를 수정할 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> commit --amend
</pre></div></div></div><div id="outline-container-f98c521a"class="outline-2"><h2 id="f98c521a">브랜치 간 파일 비교하기</h2><div class="outline-text-2"id="text-f98c521a"><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> diff branch-a branch-b -- path/to/file
</pre></div><p>아래와 같은 방법도 있는 듯 하다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> diff branch-a:path/to/file branch-b:path/to/file
</pre></div></div></div><div id="outline-container-87c1062a"class="outline-2"><h2 id="87c1062a">특정 파일의 수정 이력 조회하기</h2><div class="outline-text-2"id="text-87c1062a"><p>아래 명령은 해당 파일의 커밋 별 변경 이력을 최근부터 과거 순으로 계속 보여준다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> log -p path/to/file
</pre></div></div></div><div id="outline-container-4d1d5b7a"class="outline-2"><h2 id="4d1d5b7a">다른 브랜치에서 파일 복사해오기</h2><div class="outline-text-2"id="text-4d1d5b7a"><p>아래와 같이 다른 브랜치의 파일을 현재 브랜치로 복사해 올 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> checkout branch_name path/to/file
</pre></div></div></div><div id="outline-container-7b82683b"class="outline-2"><h2 id="7b82683b">특정 원격 브랜치를 로컬에 그대로 가져오기</h2><div class="outline-text-2"id="text-7b82683b"><p>원격에만 있는 특정 브랜치를 로컬에 같은 이름의 브랜치로 가져오기 위해서는 아래 커맨드를 이용한다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> checkout -t origin/branch_name
</pre></div><p>이렇게 하면 로컬에 <code>branch_name</code> 브랜치가 생성되고 여기에 원격(origin)의 <code>branch_name</code> 브랜치의 내용을 가져온다.</p></div></div><div id="outline-container-7f367055"class="outline-2"><h2 id="7f367055">다른 브랜치의 내용 패치 하기</h2><div class="outline-text-2"id="text-7f367055"><p>다른 브랜치의 내용을 현재 브랜치로 몽땅 머지하려면 아래와 같이 할 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> merge another_branch_name
</pre></div><p>특정 파일만 복사해 오고 싶다면 <code>checkout</code> 을 사용할 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> checkout another_bracn file_path
</pre></div><p>특정 파일을 전체가 아닌 수정 단위로만 패치하고 싶다면 <code>-p</code> 옵션을 사용할 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> checkout -p branch_name file_path
</pre></div></div></div><div id="outline-container-895ccfb2"class="outline-2"><h2 id="895ccfb2">커밋 합치기</h2><div class="outline-text-2"id="text-895ccfb2"><p>예를 들어 가장 최근의 4개 커밋을 하나로 합치고 싶다면 <code>rebase</code> 커맨드를 이용할 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> rebase -i HEAD~4
</pre></div><p><code>-i</code> 옵션은 인터랙티브(interactive) 하게 한다는 의미이며, <code>HEAD~4</code> 는 HEAD 에서 4단계의 커밋까지 라는 범위를 지정하는 의미다.</p><p>이후 편집기가 뜨면서 합칠 커밋을 선택한다. 대표가 될 커밋은 <code>pick</code> 을 하고 합쳐질 커밋은 <code>squash</code> 로 표기하면 된다. 작업 시 하단에 도움말이 나타나므로 잘 읽어보자.</p></div></div><div id="outline-container-77d2d8d6"class="outline-2"><h2 id="77d2d8d6">업데이트 무시하기</h2><div class="outline-text-2"id="text-77d2d8d6"><p>어떤 이유(?)로 특정 파일이 업데이트 되어도 이를 커밋하지 않으려면 아래 커맨드를 이용할 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> update-index --assume-unchanged PATH
</pre></div><p>이제 해당 파일은 업데이트 되어도 status 에 나타나지 않는다. 다만 이 방법은 몇몇 커맨드에 의해 다시 원래대로 돌아올 수 있다. 예를 들어 브랜치를 바꾸거나 pull 상황에 따라 다시 나타날 수 있다.</p></div></div><div id="outline-container-9778452b"class="outline-2"><h2 id="9778452b">원격과 브랜치 동기화 하기</h2><div class="outline-text-2"id="text-9778452b"><p>예를 들어 이런저런 작업을 하면서 원격에서 받은 브랜치가 많아졌는데, 시간이 흐른 후 원격에서 이런 브랜치들 일부가 사라졌다. 이럴 때 아래 커맨드로 원격에서 삭제된 브랜치를 로컬에서 지울 수 있다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> fetch --prune
</pre></div><p>fetch 시 <code>--prune</code> 혹은 <code>-p</code> 옵션은 원격에 없는 원격 브랜치를 추적 중인 로컬 브랜치를 삭제해 준다.</p><p>참고로 완전한 동기화는 안 해주니 오해하지 말자.</p></div></div><div id="outline-container-85d45b36"class="outline-2"><h2 id="85d45b36">다른 브랜치간의 변경 내역만 뽑아서 적용하기</h2><div class="outline-text-2"id="text-85d45b36"><p>예를 들어 A 라는 브랜치에서 출발한 B 브랜치에서 작업하다가 너무 잦은 머지로 트리가 너무 복잡해졌다. 이 경우 커밋을 정리하기 위해 rebase를 사용할 수도 있겠지만 이번에는 C라는 브랜치를 만들어서 여기다 B의 수정 사항만 별도로 커밋을 만들고 싶다고 하자.</p><p>우선 변경 사항만 뽑아보자.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> diff A B &gt; /foo/bar/patch
</pre></div><p>이렇게 하면 A를 기준으로 B의 내용을 패치로 뽑아준다. 즉 A에서 B로 바꿔야 할 때 무엇을 수정해야 하는 지가 파일로 정리된다.</p><p>이제 원하는 브랜치인 C에다 변경 사항을 적용해보자.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> switch C
<span style="color:#ecbe7b">git</span> apply /foo/bar/patch
</pre></div><p>apply 명령을 통해 현재 브랜치에 간단히 패치를 적용할 수 있다.</p></div></div><div id="outline-container-36991e45"class="outline-2"><h2 id="36991e45">로컬의 변경점을 무시하고 원격으로 되돌리기</h2><div class="outline-text-2"id="text-36991e45"><p><code>reset</code> 을 강하게 원격으로 때려버리면(?) 원하는 대로 할 수 있다. 아래 예는 현재 로컬의 브랜치 내용을 원격의 <code>master</code> 브랜치로 일치시키는 커맨드다.</p><div class="org-src-container"><pre class="src src-bash"><span style="color:#ecbe7b">git</span> reset --hard origin/master
</pre></div><p>뭐 알겠지만 로컬 커밋 내역이 싹 날아갈 수 있으므로 주의하자.</p></div></div><div class="mid-ad-container"><ins class="adsbygoogle mid-ad"style="display:block"data-ad-client="ca-pub-1071465863344332"data-ad-slot="4306465772"data-ad-format="auto"data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="backlinks-container"><hr><h1>이 글을 링크하는 글들</h1><div class="article-link"><div class="article-link-title-block"><h2><a class="article-link-title"href="/note/git-config.html">Git 설정하기</a></h2><span class="article-description">Git의 환경 설정과 관련된 글 모음</span><span class="article-link-date"> Updated on 2021년 3월 31일</span></div></div><div class="article-link"><div class="article-link-title-block"><h2><a class="article-link-title"href="/note/git.html">Git</a></h2><span class="article-description">Git 소개 및 간단한 사용법 정리</span><span class="article-link-date"> Updated on 2021년 3월 31일</span></div></div><div class="article-link"><div class="article-link-title-block"><h2><a class="article-link-title"href="/note/git-basic-usage.html">Git 일반적인 사용법</a></h2><span class="article-description">Git을 이용해 소스코드를 관리하는 가장 일반적인 방법</span><span class="article-link-date"> Updated on 2020년 6월 23일</span></div></div></div></section></div><div class="footer-content"><footer>Copyright 2019 ~ 2020. Seorenn all rights reserved.</footer></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44534026-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-44534026-1")</script></body></html>